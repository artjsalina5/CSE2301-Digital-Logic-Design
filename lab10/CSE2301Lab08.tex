% TEX compiler = latexmk
% copyright arturo salinas-aguayo 2024
\documentclass[12pt]{article}

\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{array}
\usepackage{amsfonts}
\usepackage{fancyhdr}
\usepackage{geometry}
\usepackage{circuitikz}
\usepackage{subfigure}
\usepackage{caption}
\usepackage{karnaugh-map}
\usepackage{bm}
\usepackage[table]{xcolor}
\usepackage{float}

\geometry{letterpaper, margin=1in}
\graphicspath{ {../images/} }

% Header and Footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{CSE 2301 - Lab 10: Three-out-of-Four Detection}
\fancyhead[R]{\thepage}
\setlength{\headheight}{15pt}

\author{Arturo Salinas-Aguayo}
\title{Lab 10: Three-out-of-Four Detection}
% theorem set
\newtheorem{example}{Example}
% Example block environment
\newenvironment{examp}
{
	\vspace{.5cm}
	\hrule
\begin{example}\upshape}
	{\hrule
		\vspace{0.5cm}
\end{example}}

\begin{document}
\newcommand{\closure}[2][3]{%
	{}\mkern#1mu\overline{\mkern-#1mu#2}}
\newcommand\ncoverline[1]{\mkern1mu\overline{\mkern-1mu#1\mkern-1mu}\mkern1mu}
% Title Page
\begin{titlepage}
	\centering
	\vspace*{3cm}
	\huge\textbf{Lab 10: Three-out-of-Four Detection}\\
	\vspace{5cm}
	\Large\textbf{Arturo Salinas-Aguayo}\\
	\normalsize
	CSE 2301: Principles and Practice of Digital Logic Design\\
	Dr. Mohammad Khan, Section 003L-1248\\
	Electrical and Computer Engineering Department
	\vfill
	\includegraphics[scale=0.1]{uconnlogo}\\
	College of Engineering, University of Connecticut\\
	\scriptsize{Coded in \LaTeX}
	\vspace*{1cm}
\end{titlepage}
\section*{Theory}
\subsubsection*{A '101' or '010' Serial Sequence Detector}
This task involved designing a Moore machine from the problem statement. The
sucessfull implementation will yield a 1 if either the detected sequence was
\(101\) or \(010\).

\subsubsection*{The Difference between Combinational and Sequential Logic}
In order to properly define these two, here are their definitions.
\begin{itemize}

	\item \textbf{Combinational} - This is a circuit, which is just a network that processes discrete-valued variables.
	      The outputs of combinational circuit depend only on the
	      inputs to the circuit. It is \textit{memoryless}.
	\item \textbf{Sequential} - The outputs of sequential circuits depend on the
	      current input and the past inputs. These circuits are said to \textit{have
		      memory}. However, sequential circuits may either remember directly or
	      distill the information as the \textit{state}.
	      
\end{itemize}

\section*{Discussion}

\section*{Practice Questions}

\begin{examp}
	\vspace{.5cm}
	\textbf{A Counter Utilizing the J-K Flip-Flop} \\
	\textit{Using JK flip flops, design a counter that counts from DCBA=0000 sequentially
		to DCBA=1011 and then returns to 0000. Complete the table below.}
	
	\begin{table}[H]
		\centering
		\newcommand{\currstatecolor}{gray!30}
		\newcommand{\nextstatecolor}{white}
		\arrayrulecolor{black}
		\begin{tabular}{|c|>{\columncolor{\currstatecolor}}c
			|>{\columncolor{\currstatecolor}}c
			|>{\columncolor{\currstatecolor}}c
			|>{\columncolor{\currstatecolor}}c|c|c|c|c
			|>{\columncolor{\currstatecolor}}c
			|>{\columncolor{\currstatecolor}}c|c|c
			|>{\columncolor{\currstatecolor}}c
			|>{\columncolor{\currstatecolor}}c|c|c|c|}
			\hline
			$\#$    & \(D\)   & \(C\)   & \(B\)   & \(A\)   & \(D^*\) & \(C^*\) & \(B^*\) & \(A^*\) & \(J_D\) & 
			\(K_D\) & \(J_C\) & \(K_C\) & \(J_B\) & \(K_B\) & \(J_A\) & \(K_A\)                                                           \\
			\hline
			0       & 0       & 0       & 0       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			1       & 0       & 0       & 0       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			2       & 0       & 0       & 1       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			3       & 0       & 0       & 1       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			4       & 0       & 1       & 0       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			5       & 0       & 1       & 0       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			6       & 0       & 1       & 1       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			7       & 0       & 1       & 1       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			8       & 1       & 0       & 0       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			9       & 1       & 0       & 0       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			10      & 1       & 0       & 1       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			11      & 1       & 0       & 1       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			12      & 1       & 1       & 0       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			13      & 1       & 1       & 0       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			14      & 1       & 1       & 1       & 0       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			15      & 1       & 1       & 1       & 1       & 0       & 0       & 0       & 1       & ?       & ? & ? & ? & ? & ? & ? & ? \\
			\hline
		\end{tabular}
		\caption{J-K Flip Flop Sequence}
	\end{table}
\end{examp}

\begin{examp}
	\vspace{.5cm}
	\textbf{The Difference between Mealy and Moore Machines}\\
	In sequential logic, there are two ways to illustrate the forms of how a circuit
	operates called \textit{Finite State Machines}. These forms show the
	\textit{next state logic} and the \textit{output logic}.
	
	In general, a FSM contains \(2^k\) \textit{finite} output states such that
	there are \(M\) inputs, \(N\) outputs, and \(k\) bits of state.
	
	In a \textbf{Moore Machine}, the outputs depend exclusively on the \textit{current state} of the machine. This means that the output remains consistent as long as the system stays in a particular state, regardless of changes in the inputs. Consequently:
	\begin{itemize}
		\item \textbf{Predictable Outputs}: Because the outputs are tied solely to the state, they are stable and do not change unexpectedly due to momentary fluctuations in the inputs.
		\item \textbf{Design Simplicity}: A Moore Machine is often simpler to design because the output logic only needs to account for the state, not the inputs.
	\end{itemize}
	In contrast, a \textbf{Mealy Machine}â€™s outputs are determined by a combination of the \textit{current state} \textbf{and} the \textit{current input}. This makes the output sensitive to changes in the input, allowing for faster responses:
	
	\begin{itemize}
		\item \textbf{Responsive Outputs}: Since outputs are based on both the state and input, a Mealy Machine can react immediately to changes in inputs, making it more dynamic.
		      
		\item \textbf{Complexity}: The dual dependency on both inputs and state can make a Mealy Machine more complex to design and predict. However, it can also lead to fewer states being required, as the inputs directly influence the outputs.
	\end{itemize}
	
	The ticket-to-ride for this concept, is that Moore Machines only rely on
	Current State. Mealy Machines rely on Current State and the Input. This allows
	the Mealy Machine FSM to be one clock cycle ahead of the Moore since it
	actively senses the input.
	
\end{examp}

The \textit{D Flip-Flop} or \textit{Delay Flip-Flop} are widely used to form
shift or storage registers. This only has one data input \(D\), a clock CLK, and
the outputs \(Q\) and \(\overline{Q}\). But first, some terms to describe
these \textit{things}.
\begin{itemize}
	\item Transparent - When Data, \(D\) flows to Output \(Q\).
	\item Opaque - When Data, \(D\) is blocked from flowing and \(Q\) retains its
	      old value.
	\item Master (Leader) - When two back to back flip-flops or latches are
	      controlled by complimentary clocks and the output of the Master(Leader)
	      \(Q\) flows into the input of the Slave(Follower) \(D\)
	\item Slave (Follower) - The second latch or flip-flop in the complimentary clock
	      chain. This follows what the Master does.
	\item Edge-Triggered - When the rising or falling "edge" of a signal
	      causes the logic to advance
	\item Level-Triggered - When the input being high or low causes the signal
	      to advance. More in later example.
\end{itemize}
The D Flip Flop is just two D latches tied together which are simply SR
Latches that are clocked. More information on the distinction between these can
be found in the next example.

To convert from one to the other, the the table describing \(Q_n\), our
current state, and \(Q_{n+1}\), the next state is populated logically. This
will form the inputs to the D Flip-Flop. Recall that the J and K inputs
correspond to Set and Reset from the SR Latch.

\begin{table}[H]
	\centering
	\begin{tabular}{|c|c|c|c|c|}
		\hline
		\(Q_n\) & \(J\) & \(K\) & \(Q_{n+1}\) & \(D_i\) \\
		\hline
		0       & 0     & 0     & 0           & 0       \\
		0       & 0     & 1     & 0           & 0       \\
		0       & 1     & 0     & 1           & 1       \\
		0       & 1     & 1     & 1           & 1       \\
		1       & 0     & 0     & 1           & 1       \\
		1       & 0     & 1     & 0           & 0       \\
		1       & 1     & 0     & 1           & 1       \\
		1       & 1     & 1     & 0           & 0       \\
		\hline
	\end{tabular}
	\caption{Mapping J-K Logic to D Logic}
\end{table}

I use a Karnaugh Map to simplify this mapping:
\begin{center}
\begin{karnaugh-map}(label=corner)[4][2][1][$J$][$K$][$Q_n$]
\minterms{2,3,4,6}
\implicant{3}{2}
\implicantedge{4}{4}{6}{6}
\autoterms[0]
\end{karnaugh-map}
\end{center}
Therefore,
\[
	D = Q_n\overline{K} + \overline{Q_n}J
\]
\end{document}
% vim: set tw=80 ts=2 sts=2 sw=2 noai noet:
